!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports["cg-toast"]=t(require("react")):n["cg-toast"]=t(n.react)}(self,(n=>(()=>{"use strict";var t={156:t=>{t.exports=n}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var a=e[n]={exports:{}};return t[n](a,a.exports,r),a.exports}r.d=(n,t)=>{for(var e in t)r.o(t,e)&&!r.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:t[e]})},r.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t),r.r=n=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})};var o={};return(()=>{r.r(o),r.d(o,{CheckmarkIcon:()=>mn,ErrorIcon:()=>sn,LoaderIcon:()=>ln,ToastBar:()=>jn,ToastIcon:()=>wn,Toaster:()=>Mn,default:()=>zn,resolveValue:()=>a,toast:()=>w,useToaster:()=>S,useToasterStore:()=>h});var n,t,e,a=function(n,t){return function(n){return"function"==typeof n}(n)?n(t):n},i=(n=0,function(){return(++n).toString()}),s=(t=void 0,function(){if(void 0===t&&"undefined"!=typeof window){var n=matchMedia("(prefers-reduced-motion: reduce)");t=!n||n.matches}return t}),c=r(156),u=function(){return u=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n},u.apply(this,arguments)},l=function(n,t,e){if(e||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return n.concat(r||Array.prototype.slice.call(t))};!function(n){n[n.ADD_TOAST=0]="ADD_TOAST",n[n.UPDATE_TOAST=1]="UPDATE_TOAST",n[n.UPSERT_TOAST=2]="UPSERT_TOAST",n[n.DISMISS_TOAST=3]="DISMISS_TOAST",n[n.REMOVE_TOAST=4]="REMOVE_TOAST",n[n.START_PAUSE=5]="START_PAUSE",n[n.END_PAUSE=6]="END_PAUSE"}(e||(e={}));var d=new Map,p=function(n){if(!d.has(n)){var t=setTimeout((function(){d.delete(n),b({type:e.REMOVE_TOAST,toastId:n})}),1e3);d.set(n,t)}},f=function(n,t){switch(t.type){case e.ADD_TOAST:return u(u({},n),{toasts:l([t.toast],n.toasts,!0).slice(0,20)});case e.UPDATE_TOAST:return t.toast.id&&(i=t.toast.id,(s=d.get(i))&&clearTimeout(s)),u(u({},n),{toasts:n.toasts.map((function(n){return n.id===t.toast.id?u(u({},n),t.toast):n}))});case e.UPSERT_TOAST:var r=t.toast;return n.toasts.find((function(n){return n.id===r.id}))?f(n,{type:e.UPDATE_TOAST,toast:r}):f(n,{type:e.ADD_TOAST,toast:r});case e.DISMISS_TOAST:var o=t.toastId;return o?p(o):n.toasts.forEach((function(n){p(n.id)})),u(u({},n),{toasts:n.toasts.map((function(n){return n.id===o||void 0===o?u(u({},n),{visible:!1}):n}))});case e.REMOVE_TOAST:return void 0===t.toastId?u(u({},n),{toasts:[]}):u(u({},n),{toasts:n.toasts.filter((function(n){return n.id!==t.toastId}))});case e.START_PAUSE:return u(u({},n),{pausedAt:t.time});case e.END_PAUSE:var a=t.time-(n.pausedAt||0);return u(u({},n),{pausedAt:void 0,toasts:n.toasts.map((function(n){return u(u({},n),{pauseDuration:n.pauseDuration+a})}))})}var i,s},m=[],y={toasts:[],pausedAt:void 0},b=function(n){y=f(y,n),m.forEach((function(n){n(y)}))},g={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},h=function(n){void 0===n&&(n={});var t=c.useState(y),e=t[0],r=t[1];c.useEffect((function(){return m.push(r),function(){var n=m.indexOf(r);n>-1&&m.splice(n,1)}}),[e]);var o=e.toasts.map((function(t){var e,r;return u(u(u(u({},n),n[t.type]),t),{duration:t.duration||(null===(e=n[t.type])||void 0===e?void 0:e.duration)||(null==n?void 0:n.duration)||g[t.type],style:u(u(u({},n.style),null===(r=n[t.type])||void 0===r?void 0:r.style),t.style)})}));return u(u({},e),{toasts:o})},v=function(){return v=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n},v.apply(this,arguments)},x=function(n){return function(t,r){var o=function(n,t,e){return void 0===t&&(t="blank"),v(v({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0},e),{id:(null==e?void 0:e.id)||i()})}(t,n,r);return b({type:e.UPSERT_TOAST,toast:o}),o.id}},w=function(n,t){return x("blank")(n,t)};w.error=x("error"),w.success=x("success"),w.loading=x("loading"),w.custom=x("custom"),w.dismiss=function(n){b({type:e.DISMISS_TOAST,toastId:n})},w.remove=function(n){return b({type:e.REMOVE_TOAST,toastId:n})},w.promise=function(n,t,e){var r=w.loading(t.loading,v(v({},e),null==e?void 0:e.loading));return n.then((function(n){return w.success(a(t.success,n),v(v({id:r},e),null==e?void 0:e.success)),n})).catch((function(n){w.error(a(t.error,n),v(v({id:r},e),null==e?void 0:e.error))})),n};var T=function(n,t){b({type:e.UPDATE_TOAST,toast:{id:n,height:t}})},O=function(){b({type:e.START_PAUSE,time:Date.now()})},S=function(n){var t=h(n),r=t.toasts,o=t.pausedAt;(0,c.useEffect)((function(){if(!o){var n=Date.now(),t=r.map((function(t){if(t.duration!==1/0){var e=(t.duration||0)+t.pauseDuration-(n-t.createdAt);if(!(e<0))return setTimeout((function(){return w.dismiss(t.id)}),e);t.visible&&w.dismiss(t.id)}}));return function(){t.forEach((function(n){return n&&clearTimeout(n)}))}}}),[r,o]);var a=(0,c.useCallback)((function(){o&&b({type:e.END_PAUSE,time:Date.now()})}),[o]),i=(0,c.useCallback)((function(n,t){var e,o=t||{},a=o.reverseOrder,i=void 0!==a&&a,s=o.gutter,c=void 0===s?8:s,u=o.defaultPosition,l=r.filter((function(t){return(t.position||u)===(n.position||u)&&t.height})),d=l.findIndex((function(t){return t.id===n.id})),p=l.filter((function(n,t){return t<d&&n.visible})).length,f=(e=l.filter((function(n){return n.visible}))).slice.apply(e,i?[p+1]:[0,p]).reduce((function(n,t){return n+(t.height||0)+c}),0);return f}),[r]);return{toasts:r,handlers:{updateHeight:T,startPause:O,endPause:a,calculateOffset:i}}};let E={data:""},A=n=>"object"==typeof window?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||E,P=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,j=/\/\*[^]*?\*\/|  +/g,_=/\n+/g,D=(n,t)=>{let e="",r="",o="";for(let a in n){let i=n[a];"@"==a[0]?"i"==a[1]?e=a+" "+i+";":r+="f"==a[1]?D(i,a):a+"{"+D(i,"k"==a[1]?"":t)+"}":"object"==typeof i?r+=D(i,t?t.replace(/([^,])+/g,(n=>a.replace(/(^:.*)|([^,])+/g,(t=>/&/.test(t)?t.replace(/&/g,n):n?n+" "+t:t)))):a):null!=i&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=D.p?D.p(a,i):a+":"+i+";")}return e+(t&&o?t+"{"+o+"}":o)+r},k={},I=n=>{if("object"==typeof n){let t="";for(let e in n)t+=e+I(n[e]);return t}return n},U=(n,t,e,r,o)=>{let a=I(n),i=k[a]||(k[a]=(n=>{let t=0,e=11;for(;t<n.length;)e=101*e+n.charCodeAt(t++)>>>0;return"go"+e})(a));if(!k[i]){let t=a!==n?n:(n=>{let t,e,r=[{}];for(;t=P.exec(n.replace(j,""));)t[4]?r.shift():t[3]?(e=t[3].replace(_," ").trim(),r.unshift(r[0][e]=r[0][e]||{})):r[0][t[1]]=t[2].replace(_," ").trim();return r[0]})(n);k[i]=D(o?{["@keyframes "+i]:t}:t,e?"":"."+i)}let s=e&&k.g?k.g:null;return e&&(k.g=k[i]),((n,t,e,r)=>{r?t.data=t.data.replace(r,n):-1===t.data.indexOf(n)&&(t.data=e?n+t.data:t.data+n)})(k[i],t,r,s),i},M=(n,t,e)=>n.reduce(((n,r,o)=>{let a=t[o];if(a&&a.call){let n=a(e),t=n&&n.props&&n.props.className||/^go/.test(n)&&n;a=t?"."+t:n&&"object"==typeof n?n.props?"":D(n,""):!1===n?"":n}return n+r+(null==a?"":a)}),"");function z(n){let t=this||{},e=n.call?n(t.p):n;return U(e.unshift?e.raw?M(e,[].slice.call(arguments,1),t.p):e.reduce(((n,e)=>Object.assign(n,e&&e.call?e(t.p):e)),{}):e,A(t.target),t.g,t.o,t.k)}z.bind({g:1});let N,R,C,V=z.bind({k:1});function F(n,t){let e=this||{};return function(){let r=arguments;function o(a,i){let s=Object.assign({},a),c=s.className||o.className;e.p=Object.assign({theme:R&&R()},s),e.o=/ *go\d+/.test(c),s.className=z.apply(e,r)+(c?" "+c:""),t&&(s.ref=i);let u=n;return n[0]&&(u=s.as||n,delete s.as),C&&u[0]&&C(s),N(u,s)}return t?t(o):o}}var H,L,q,B,Y,Z,$,G,J,K,Q,W,X,nn,tn,en=function(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n},rn=V(H||(H=en(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"],["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),on=V(L||(L=en(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"],["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),an=V(q||(q=en(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"],["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),sn=F("div")(B||(B=en(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"],["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),(function(n){return n.primary||"#ff4b4b"}),rn,on,(function(n){return n.secondary||"#fff"}),an),cn=function(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n},un=V(Y||(Y=cn(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"],["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),ln=F("div")(Z||(Z=cn(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"],["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),(function(n){return n.secondary||"#e0e0e0"}),(function(n){return n.primary||"#616161"}),un),dn=function(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n},pn=V($||($=dn(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"],["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),fn=V(G||(G=dn(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"],["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),mn=F("div")(J||(J=dn(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"],["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),(function(n){return n.primary||"#61d345"}),pn,fn,(function(n){return n.secondary||"#fff"})),yn=function(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n},bn=function(){return bn=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n},bn.apply(this,arguments)},gn=F("div")(K||(K=yn(["\n  position: absolute;\n"],["\n  position: absolute;\n"]))),hn=F("div")(Q||(Q=yn(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"],["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),vn=V(W||(W=yn(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"],["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),xn=F("div")(X||(X=yn(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"],["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),vn),wn=function(n){var t=n.toast,e=t.icon,r=t.type,o=t.iconTheme;return void 0!==e?"string"==typeof e?c.createElement(xn,null,e):e:"blank"===r?null:c.createElement(hn,null,c.createElement(ln,bn({},o)),"loading"!==r&&c.createElement(gn,null,"error"===r?c.createElement(sn,bn({},o)):c.createElement(mn,bn({},o))))},Tn=function(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n},On=function(){return On=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n},On.apply(this,arguments)},Sn=function(n){return"\n0% {transform: translate3d(0,".concat(-200*n,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n")},En=function(n){return"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*n,"%,-1px) scale(.6); opacity:0;}\n")},An=F("div")(nn||(nn=Tn(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"],["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),Pn=F("div")(tn||(tn=Tn(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"],["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),jn=c.memo((function(n){var t=n.toast,e=n.position,r=n.style,o=n.children,i=t.height?function(n,t){var e=n.includes("top")?1:-1,r=s()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[Sn(e),En(e)],o=r[1];return{animation:t?"".concat(V(r[0])," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(V(o)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}}(t.position||e||"top-center",t.visible):{opacity:0},u=c.createElement(wn,{toast:t}),l=c.createElement(Pn,On({},t.ariaProps),a(t.message,t));return c.createElement(An,{className:t.className,style:On(On(On({},i),r),t.style)},"function"==typeof o?o({icon:u,message:l}):c.createElement(c.Fragment,null,u,l))})),_n=function(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n},Dn=function(){return Dn=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n},Dn.apply(this,arguments)};!function(n,t,e,r){D.p=t,N=n,R=e,C=r}(c.createElement);var kn,In=function(n){var t=n.id,e=n.className,r=n.style,o=n.onHeightUpdate,a=n.children,i=c.useCallback((function(n){if(n){var e=function(){var e=n.getBoundingClientRect().height;o(t,e)};e(),new MutationObserver(e).observe(n,{subtree:!0,childList:!0,characterData:!0})}}),[t,o]);return c.createElement("div",{ref:i,className:e,style:r},a)},Un=z(kn||(kn=_n(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"],["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),Mn=function(n){var t=n.reverseOrder,e=n.position,r=void 0===e?"top-center":e,o=n.toastOptions,i=n.gutter,u=n.children,l=n.containerStyle,d=n.containerClassName,p=S(o),f=p.toasts,m=p.handlers;return c.createElement("div",{style:Dn({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},l),className:d,onMouseEnter:m.startPause,onMouseLeave:m.endPause},f.map((function(n){var e=n.position||r,o=function(n,t){var e=n.includes("top"),r=e?{top:0}:{bottom:0},o=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return Dn(Dn({left:0,right:0,display:"flex",position:"absolute",transition:s()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(e?1:-1),"px)")},r),o)}(e,m.calculateOffset(n,{reverseOrder:t,gutter:i,defaultPosition:r}));return c.createElement(In,{id:n.id,key:n.id,onHeightUpdate:m.updateHeight,className:n.visible?Un:"",style:o},"custom"===n.type?a(n.message,n):u?u(n):c.createElement(jn,{toast:n,position:e}))})))};const zn=w})(),o})()));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFNLEVBQ05DLGdCQUFpQkUsS0FJbkIsT0FDRSxnQkFBQ2dGLEdBQVksQ0FDWG5KLEdBQUlHLEVBQUVILEdBQ05qRCxJQUFLb0QsRUFBRUgsR0FDUG9KLGVBQWdCeEUsRUFBU3ZCLGFBQ3pCbUQsVUFBV3JHLEVBQUVLLFFBQVVvSixHQUFjLEdBQ3JDMUgsTUFBT3VJLEdBRUssV0FBWHRLLEVBQUVkLEtBQ0RwQixFQUFha0MsRUFBRWlDLFFBQVNqQyxHQUN0QnlJLEVBQ0ZBLEVBQVN6SSxHQUVULGdCQUFDd0ksR0FBUSxDQUFDOUksTUFBT00sRUFBR2dFLFNBQVVxRyxJQUl0QyxJQUdOLEVDaElBLFUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jZy10b2FzdC93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vY2ctdG9hc3QvZXh0ZXJuYWwgdW1kIFwicmVhY3RcIiIsIndlYnBhY2s6Ly9jZy10b2FzdC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9jZy10b2FzdC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vY2ctdG9hc3Qvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9jZy10b2FzdC93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL2NnLXRvYXN0Ly4vc3JjL2NvcmUvdHlwZXMudHMiLCJ3ZWJwYWNrOi8vY2ctdG9hc3QvLi9zcmMvY29yZS91dGlscy50cyIsIndlYnBhY2s6Ly9jZy10b2FzdC8uL3NyYy9jb3JlL3N0b3JlLnRzIiwid2VicGFjazovL2NnLXRvYXN0Ly4vc3JjL2NvcmUvdG9hc3QudHMiLCJ3ZWJwYWNrOi8vY2ctdG9hc3QvLi9zcmMvY29yZS91c2UtdG9hc3Rlci50cyIsIndlYnBhY2s6Ly9jZy10b2FzdC8uL25vZGVfbW9kdWxlcy9nb29iZXIvZGlzdC9nb29iZXIubW9kZXJuLmpzIiwid2VicGFjazovL2NnLXRvYXN0Ly4vc3JjL2NvbXBvbmVudHMvZXJyb3IudHN4Iiwid2VicGFjazovL2NnLXRvYXN0Ly4vc3JjL2NvbXBvbmVudHMvbG9hZGVyLnRzeCIsIndlYnBhY2s6Ly9jZy10b2FzdC8uL3NyYy9jb21wb25lbnRzL2NoZWNrbWFyay50c3giLCJ3ZWJwYWNrOi8vY2ctdG9hc3QvLi9zcmMvY29tcG9uZW50cy90b2FzdC1pY29uLnRzeCIsIndlYnBhY2s6Ly9jZy10b2FzdC8uL3NyYy9jb21wb25lbnRzL3RvYXN0LWJhci50c3giLCJ3ZWJwYWNrOi8vY2ctdG9hc3QvLi9zcmMvY29tcG9uZW50cy90b2FzdGVyLnRzeCIsIndlYnBhY2s6Ly9jZy10b2FzdC8uL3NyYy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXCJyZWFjdFwiXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJjZy10b2FzdFwiXSA9IGZhY3RvcnkocmVxdWlyZShcInJlYWN0XCIpKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJjZy10b2FzdFwiXSA9IGZhY3Rvcnkocm9vdFtcInJlYWN0XCJdKTtcbn0pKHNlbGYsIChfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX18xNTZfXykgPT4ge1xucmV0dXJuICIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fMTU2X187IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJpbXBvcnQgeyBDU1NQcm9wZXJ0aWVzIH0gZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgdHlwZSBUb2FzdFR5cGUgPSAnc3VjY2VzcycgfCAnZXJyb3InIHwgJ2xvYWRpbmcnIHwgJ2JsYW5rJyB8ICdjdXN0b20nO1xuZXhwb3J0IHR5cGUgVG9hc3RQb3NpdGlvbiA9XG4gIHwgJ3RvcC1sZWZ0J1xuICB8ICd0b3AtY2VudGVyJ1xuICB8ICd0b3AtcmlnaHQnXG4gIHwgJ2JvdHRvbS1sZWZ0J1xuICB8ICdib3R0b20tY2VudGVyJ1xuICB8ICdib3R0b20tcmlnaHQnO1xuXG5leHBvcnQgdHlwZSBSZW5kZXJhYmxlID0gSlNYLkVsZW1lbnQgfCBzdHJpbmcgfCBudWxsO1xuXG5leHBvcnQgaW50ZXJmYWNlIEljb25UaGVtZSB7XG4gIHByaW1hcnk6IHN0cmluZztcbiAgc2Vjb25kYXJ5OiBzdHJpbmc7XG59XG5cbmV4cG9ydCB0eXBlIFZhbHVlRnVuY3Rpb248VFZhbHVlLCBUQXJnPiA9IChhcmc6IFRBcmcpID0+IFRWYWx1ZTtcbmV4cG9ydCB0eXBlIFZhbHVlT3JGdW5jdGlvbjxUVmFsdWUsIFRBcmc+ID1cbiAgfCBUVmFsdWVcbiAgfCBWYWx1ZUZ1bmN0aW9uPFRWYWx1ZSwgVEFyZz47XG5cbmNvbnN0IGlzRnVuY3Rpb24gPSA8VFZhbHVlLCBUQXJnPihcbiAgdmFsT3JGdW5jdGlvbjogVmFsdWVPckZ1bmN0aW9uPFRWYWx1ZSwgVEFyZz5cbik6IHZhbE9yRnVuY3Rpb24gaXMgVmFsdWVGdW5jdGlvbjxUVmFsdWUsIFRBcmc+ID0+XG4gIHR5cGVvZiB2YWxPckZ1bmN0aW9uID09PSAnZnVuY3Rpb24nO1xuXG5leHBvcnQgY29uc3QgcmVzb2x2ZVZhbHVlID0gPFRWYWx1ZSwgVEFyZz4oXG4gIHZhbE9yRnVuY3Rpb246IFZhbHVlT3JGdW5jdGlvbjxUVmFsdWUsIFRBcmc+LFxuICBhcmc6IFRBcmdcbik6IFRWYWx1ZSA9PiAoaXNGdW5jdGlvbih2YWxPckZ1bmN0aW9uKSA/IHZhbE9yRnVuY3Rpb24oYXJnKSA6IHZhbE9yRnVuY3Rpb24pO1xuXG5leHBvcnQgaW50ZXJmYWNlIFRvYXN0IHtcbiAgdHlwZTogVG9hc3RUeXBlO1xuICBpZDogc3RyaW5nO1xuICBtZXNzYWdlOiBWYWx1ZU9yRnVuY3Rpb248UmVuZGVyYWJsZSwgVG9hc3Q+O1xuICBpY29uPzogUmVuZGVyYWJsZTtcbiAgZHVyYXRpb24/OiBudW1iZXI7XG4gIHBhdXNlRHVyYXRpb246IG51bWJlcjtcbiAgcG9zaXRpb24/OiBUb2FzdFBvc2l0aW9uO1xuXG4gIGFyaWFQcm9wczoge1xuICAgIHJvbGU6ICdzdGF0dXMnIHwgJ2FsZXJ0JztcbiAgICAnYXJpYS1saXZlJzogJ2Fzc2VydGl2ZScgfCAnb2ZmJyB8ICdwb2xpdGUnO1xuICB9O1xuXG4gIHN0eWxlPzogQ1NTUHJvcGVydGllcztcbiAgY2xhc3NOYW1lPzogc3RyaW5nO1xuICBpY29uVGhlbWU/OiBJY29uVGhlbWU7XG5cbiAgY3JlYXRlZEF0OiBudW1iZXI7XG4gIHZpc2libGU6IGJvb2xlYW47XG4gIGhlaWdodD86IG51bWJlcjtcbn1cblxuZXhwb3J0IHR5cGUgVG9hc3RPcHRpb25zID0gUGFydGlhbDxcbiAgUGljazxcbiAgICBUb2FzdCxcbiAgICB8ICdpZCdcbiAgICB8ICdpY29uJ1xuICAgIHwgJ2R1cmF0aW9uJ1xuICAgIHwgJ2FyaWFQcm9wcydcbiAgICB8ICdjbGFzc05hbWUnXG4gICAgfCAnc3R5bGUnXG4gICAgfCAncG9zaXRpb24nXG4gICAgfCAnaWNvblRoZW1lJ1xuICA+XG4+O1xuXG5leHBvcnQgdHlwZSBEZWZhdWx0VG9hc3RPcHRpb25zID0gVG9hc3RPcHRpb25zICYge1xuICBba2V5IGluIFRvYXN0VHlwZV0/OiBUb2FzdE9wdGlvbnM7XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIFRvYXN0ZXJQcm9wcyB7XG4gIHBvc2l0aW9uPzogVG9hc3RQb3NpdGlvbjtcbiAgdG9hc3RPcHRpb25zPzogRGVmYXVsdFRvYXN0T3B0aW9ucztcbiAgcmV2ZXJzZU9yZGVyPzogYm9vbGVhbjtcbiAgZ3V0dGVyPzogbnVtYmVyO1xuICBjb250YWluZXJTdHlsZT86IFJlYWN0LkNTU1Byb3BlcnRpZXM7XG4gIGNvbnRhaW5lckNsYXNzTmFtZT86IHN0cmluZztcbiAgY2hpbGRyZW4/OiAodG9hc3Q6IFRvYXN0KSA9PiBKU1guRWxlbWVudDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUb2FzdFdyYXBwZXJQcm9wcyB7XG4gIGlkOiBzdHJpbmc7XG4gIGNsYXNzTmFtZT86IHN0cmluZztcbiAgc3R5bGU/OiBSZWFjdC5DU1NQcm9wZXJ0aWVzO1xuICBvbkhlaWdodFVwZGF0ZTogKGlkOiBzdHJpbmcsIGhlaWdodDogbnVtYmVyKSA9PiB2b2lkO1xuICBjaGlsZHJlbj86IFJlYWN0LlJlYWN0Tm9kZTtcbn1cbiIsImV4cG9ydCBjb25zdCBnZW5JZCA9ICgoKSA9PiB7XG4gIGxldCBjb3VudCA9IDA7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgcmV0dXJuICgrK2NvdW50KS50b1N0cmluZygpO1xuICB9O1xufSkoKTtcblxuZXhwb3J0IGNvbnN0IHByZWZlcnNSZWR1Y2VkTW90aW9uID0gKCgpID0+IHtcbiAgLy8gQ2FjaGUgcmVzdWx0XG4gIGxldCBzaG91bGRSZWR1Y2VNb3Rpb246IGJvb2xlYW4gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5cbiAgcmV0dXJuICgpID0+IHtcbiAgICBpZiAoc2hvdWxkUmVkdWNlTW90aW9uID09PSB1bmRlZmluZWQgJiYgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnN0IG1lZGlhUXVlcnkgPSBtYXRjaE1lZGlhKCcocHJlZmVycy1yZWR1Y2VkLW1vdGlvbjogcmVkdWNlKScpO1xuICAgICAgc2hvdWxkUmVkdWNlTW90aW9uID0gIW1lZGlhUXVlcnkgfHwgbWVkaWFRdWVyeS5tYXRjaGVzO1xuICAgIH1cbiAgICByZXR1cm4gc2hvdWxkUmVkdWNlTW90aW9uO1xuICB9O1xufSkoKTtcbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IERlZmF1bHRUb2FzdE9wdGlvbnMsIFRvYXN0LCBUb2FzdFR5cGUgfSBmcm9tICcuL3R5cGVzJztcblxuY29uc3QgVE9BU1RfTElNSVQgPSAyMDtcblxuZXhwb3J0IGVudW0gQWN0aW9uVHlwZSB7XG4gIEFERF9UT0FTVCxcbiAgVVBEQVRFX1RPQVNULFxuICBVUFNFUlRfVE9BU1QsXG4gIERJU01JU1NfVE9BU1QsXG4gIFJFTU9WRV9UT0FTVCxcbiAgU1RBUlRfUEFVU0UsXG4gIEVORF9QQVVTRSxcbn1cblxudHlwZSBBY3Rpb24gPVxuICB8IHtcbiAgICAgIHR5cGU6IEFjdGlvblR5cGUuQUREX1RPQVNUO1xuICAgICAgdG9hc3Q6IFRvYXN0O1xuICAgIH1cbiAgfCB7XG4gICAgICB0eXBlOiBBY3Rpb25UeXBlLlVQU0VSVF9UT0FTVDtcbiAgICAgIHRvYXN0OiBUb2FzdDtcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogQWN0aW9uVHlwZS5VUERBVEVfVE9BU1Q7XG4gICAgICB0b2FzdDogUGFydGlhbDxUb2FzdD47XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6IEFjdGlvblR5cGUuRElTTUlTU19UT0FTVDtcbiAgICAgIHRvYXN0SWQ/OiBzdHJpbmc7XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6IEFjdGlvblR5cGUuUkVNT1ZFX1RPQVNUO1xuICAgICAgdG9hc3RJZD86IHN0cmluZztcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogQWN0aW9uVHlwZS5TVEFSVF9QQVVTRTtcbiAgICAgIHRpbWU6IG51bWJlcjtcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogQWN0aW9uVHlwZS5FTkRfUEFVU0U7XG4gICAgICB0aW1lOiBudW1iZXI7XG4gICAgfTtcblxuaW50ZXJmYWNlIFN0YXRlIHtcbiAgdG9hc3RzOiBUb2FzdFtdO1xuICBwYXVzZWRBdDogbnVtYmVyIHwgdW5kZWZpbmVkO1xufVxuXG5jb25zdCB0b2FzdFRpbWVvdXRzID0gbmV3IE1hcDxUb2FzdFsnaWQnXSwgUmV0dXJuVHlwZTx0eXBlb2Ygc2V0VGltZW91dD4+KCk7XG5cbmV4cG9ydCBjb25zdCBUT0FTVF9FWFBJUkVfRElTTUlTU19ERUxBWSA9IDEwMDA7XG5cbmNvbnN0IGFkZFRvUmVtb3ZlUXVldWUgPSAodG9hc3RJZDogc3RyaW5nKSA9PiB7XG4gIGlmICh0b2FzdFRpbWVvdXRzLmhhcyh0b2FzdElkKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICB0b2FzdFRpbWVvdXRzLmRlbGV0ZSh0b2FzdElkKTtcbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiBBY3Rpb25UeXBlLlJFTU9WRV9UT0FTVCxcbiAgICAgIHRvYXN0SWQ6IHRvYXN0SWQsXG4gICAgfSk7XG4gIH0sIFRPQVNUX0VYUElSRV9ESVNNSVNTX0RFTEFZKTtcblxuICB0b2FzdFRpbWVvdXRzLnNldCh0b2FzdElkLCB0aW1lb3V0KTtcbn07XG5cbmNvbnN0IGNsZWFyRnJvbVJlbW92ZVF1ZXVlID0gKHRvYXN0SWQ6IHN0cmluZykgPT4ge1xuICBjb25zdCB0aW1lb3V0ID0gdG9hc3RUaW1lb3V0cy5nZXQodG9hc3RJZCk7XG4gIGlmICh0aW1lb3V0KSB7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgcmVkdWNlciA9IChzdGF0ZTogU3RhdGUsIGFjdGlvbjogQWN0aW9uKTogU3RhdGUgPT4ge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBBY3Rpb25UeXBlLkFERF9UT0FTVDpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICB0b2FzdHM6IFthY3Rpb24udG9hc3QsIC4uLnN0YXRlLnRvYXN0c10uc2xpY2UoMCwgVE9BU1RfTElNSVQpLFxuICAgICAgfTtcblxuICAgIGNhc2UgQWN0aW9uVHlwZS5VUERBVEVfVE9BU1Q6XG4gICAgICAvLyAgISBTaWRlIGVmZmVjdHMgIVxuICAgICAgaWYgKGFjdGlvbi50b2FzdC5pZCkge1xuICAgICAgICBjbGVhckZyb21SZW1vdmVRdWV1ZShhY3Rpb24udG9hc3QuaWQpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgdG9hc3RzOiBzdGF0ZS50b2FzdHMubWFwKCh0KSA9PlxuICAgICAgICAgIHQuaWQgPT09IGFjdGlvbi50b2FzdC5pZCA/IHsgLi4udCwgLi4uYWN0aW9uLnRvYXN0IH0gOiB0XG4gICAgICAgICksXG4gICAgICB9O1xuXG4gICAgY2FzZSBBY3Rpb25UeXBlLlVQU0VSVF9UT0FTVDpcbiAgICAgIGNvbnN0IHsgdG9hc3QgfSA9IGFjdGlvbjtcbiAgICAgIHJldHVybiBzdGF0ZS50b2FzdHMuZmluZCgodCkgPT4gdC5pZCA9PT0gdG9hc3QuaWQpXG4gICAgICAgID8gcmVkdWNlcihzdGF0ZSwgeyB0eXBlOiBBY3Rpb25UeXBlLlVQREFURV9UT0FTVCwgdG9hc3QgfSlcbiAgICAgICAgOiByZWR1Y2VyKHN0YXRlLCB7IHR5cGU6IEFjdGlvblR5cGUuQUREX1RPQVNULCB0b2FzdCB9KTtcblxuICAgIGNhc2UgQWN0aW9uVHlwZS5ESVNNSVNTX1RPQVNUOlxuICAgICAgY29uc3QgeyB0b2FzdElkIH0gPSBhY3Rpb247XG5cbiAgICAgIC8vICEgU2lkZSBlZmZlY3RzICEgLSBUaGlzIGNvdWxkIGJlIGV4ZWNyYXRlZCBpbnRvIGEgZGlzbWlzc1RvYXN0KCkgYWN0aW9uLCBidXQgSSdsbCBrZWVwIGl0IGhlcmUgZm9yIHNpbXBsaWNpdHlcbiAgICAgIGlmICh0b2FzdElkKSB7XG4gICAgICAgIGFkZFRvUmVtb3ZlUXVldWUodG9hc3RJZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGF0ZS50b2FzdHMuZm9yRWFjaCgodG9hc3QpID0+IHtcbiAgICAgICAgICBhZGRUb1JlbW92ZVF1ZXVlKHRvYXN0LmlkKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICB0b2FzdHM6IHN0YXRlLnRvYXN0cy5tYXAoKHQpID0+XG4gICAgICAgICAgdC5pZCA9PT0gdG9hc3RJZCB8fCB0b2FzdElkID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgIC4uLnQsXG4gICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDogdFxuICAgICAgICApLFxuICAgICAgfTtcbiAgICBjYXNlIEFjdGlvblR5cGUuUkVNT1ZFX1RPQVNUOlxuICAgICAgaWYgKGFjdGlvbi50b2FzdElkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgICB0b2FzdHM6IFtdLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIHRvYXN0czogc3RhdGUudG9hc3RzLmZpbHRlcigodCkgPT4gdC5pZCAhPT0gYWN0aW9uLnRvYXN0SWQpLFxuICAgICAgfTtcblxuICAgIGNhc2UgQWN0aW9uVHlwZS5TVEFSVF9QQVVTRTpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBwYXVzZWRBdDogYWN0aW9uLnRpbWUsXG4gICAgICB9O1xuXG4gICAgY2FzZSBBY3Rpb25UeXBlLkVORF9QQVVTRTpcbiAgICAgIGNvbnN0IGRpZmYgPSBhY3Rpb24udGltZSAtIChzdGF0ZS5wYXVzZWRBdCB8fCAwKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIHBhdXNlZEF0OiB1bmRlZmluZWQsXG4gICAgICAgIHRvYXN0czogc3RhdGUudG9hc3RzLm1hcCgodCkgPT4gKHtcbiAgICAgICAgICAuLi50LFxuICAgICAgICAgIHBhdXNlRHVyYXRpb246IHQucGF1c2VEdXJhdGlvbiArIGRpZmYsXG4gICAgICAgIH0pKSxcbiAgICAgIH07XG4gIH1cbn07XG5cbmNvbnN0IGxpc3RlbmVyczogQXJyYXk8KHN0YXRlOiBTdGF0ZSkgPT4gdm9pZD4gPSBbXTtcblxubGV0IG1lbW9yeVN0YXRlOiBTdGF0ZSA9IHsgdG9hc3RzOiBbXSwgcGF1c2VkQXQ6IHVuZGVmaW5lZCB9O1xuXG5leHBvcnQgY29uc3QgZGlzcGF0Y2ggPSAoYWN0aW9uOiBBY3Rpb24pID0+IHtcbiAgbWVtb3J5U3RhdGUgPSByZWR1Y2VyKG1lbW9yeVN0YXRlLCBhY3Rpb24pO1xuICBsaXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXIpID0+IHtcbiAgICBsaXN0ZW5lcihtZW1vcnlTdGF0ZSk7XG4gIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRUaW1lb3V0czoge1xuICBba2V5IGluIFRvYXN0VHlwZV06IG51bWJlcjtcbn0gPSB7XG4gIGJsYW5rOiA0MDAwLFxuICBlcnJvcjogNDAwMCxcbiAgc3VjY2VzczogMjAwMCxcbiAgbG9hZGluZzogSW5maW5pdHksXG4gIGN1c3RvbTogNDAwMCxcbn07XG5cbmV4cG9ydCBjb25zdCB1c2VTdG9yZSA9ICh0b2FzdE9wdGlvbnM6IERlZmF1bHRUb2FzdE9wdGlvbnMgPSB7fSk6IFN0YXRlID0+IHtcbiAgY29uc3QgW3N0YXRlLCBzZXRTdGF0ZV0gPSBSZWFjdC51c2VTdGF0ZTxTdGF0ZT4obWVtb3J5U3RhdGUpO1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxpc3RlbmVycy5wdXNoKHNldFN0YXRlKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY29uc3QgaW5kZXggPSBsaXN0ZW5lcnMuaW5kZXhPZihzZXRTdGF0ZSk7XG4gICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbc3RhdGVdKTtcblxuICBjb25zdCBtZXJnZWRUb2FzdHMgPSBzdGF0ZS50b2FzdHMubWFwKCh0KSA9PiAoe1xuICAgIC4uLnRvYXN0T3B0aW9ucyxcbiAgICAuLi50b2FzdE9wdGlvbnNbdC50eXBlXSxcbiAgICAuLi50LFxuICAgIGR1cmF0aW9uOlxuICAgICAgdC5kdXJhdGlvbiB8fFxuICAgICAgdG9hc3RPcHRpb25zW3QudHlwZV0/LmR1cmF0aW9uIHx8XG4gICAgICB0b2FzdE9wdGlvbnM/LmR1cmF0aW9uIHx8XG4gICAgICBkZWZhdWx0VGltZW91dHNbdC50eXBlXSxcbiAgICBzdHlsZToge1xuICAgICAgLi4udG9hc3RPcHRpb25zLnN0eWxlLFxuICAgICAgLi4udG9hc3RPcHRpb25zW3QudHlwZV0/LnN0eWxlLFxuICAgICAgLi4udC5zdHlsZSxcbiAgICB9LFxuICB9KSk7XG5cbiAgcmV0dXJuIHtcbiAgICAuLi5zdGF0ZSxcbiAgICB0b2FzdHM6IG1lcmdlZFRvYXN0cyxcbiAgfTtcbn07XG4iLCJpbXBvcnQge1xuICBSZW5kZXJhYmxlLFxuICBUb2FzdCxcbiAgVG9hc3RPcHRpb25zLFxuICBUb2FzdFR5cGUsXG4gIERlZmF1bHRUb2FzdE9wdGlvbnMsXG4gIFZhbHVlT3JGdW5jdGlvbixcbiAgcmVzb2x2ZVZhbHVlLFxufSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IGdlbklkIH0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQgeyBkaXNwYXRjaCwgQWN0aW9uVHlwZSB9IGZyb20gJy4vc3RvcmUnO1xuXG50eXBlIE1lc3NhZ2UgPSBWYWx1ZU9yRnVuY3Rpb248UmVuZGVyYWJsZSwgVG9hc3Q+O1xuXG50eXBlIFRvYXN0SGFuZGxlciA9IChtZXNzYWdlOiBNZXNzYWdlLCBvcHRpb25zPzogVG9hc3RPcHRpb25zKSA9PiBzdHJpbmc7XG5cbmNvbnN0IGNyZWF0ZVRvYXN0ID0gKFxuICBtZXNzYWdlOiBNZXNzYWdlLFxuICB0eXBlOiBUb2FzdFR5cGUgPSAnYmxhbmsnLFxuICBvcHRzPzogVG9hc3RPcHRpb25zXG4pOiBUb2FzdCA9PiAoe1xuICBjcmVhdGVkQXQ6IERhdGUubm93KCksXG4gIHZpc2libGU6IHRydWUsXG4gIHR5cGUsXG4gIGFyaWFQcm9wczoge1xuICAgIHJvbGU6ICdzdGF0dXMnLFxuICAgICdhcmlhLWxpdmUnOiAncG9saXRlJyxcbiAgfSxcbiAgbWVzc2FnZSxcbiAgcGF1c2VEdXJhdGlvbjogMCxcbiAgLi4ub3B0cyxcbiAgaWQ6IG9wdHM/LmlkIHx8IGdlbklkKCksXG59KTtcblxuY29uc3QgY3JlYXRlSGFuZGxlciA9XG4gICh0eXBlPzogVG9hc3RUeXBlKTogVG9hc3RIYW5kbGVyID0+XG4gIChtZXNzYWdlLCBvcHRpb25zKSA9PiB7XG4gICAgY29uc3QgdG9hc3QgPSBjcmVhdGVUb2FzdChtZXNzYWdlLCB0eXBlLCBvcHRpb25zKTtcbiAgICBkaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuVVBTRVJUX1RPQVNULCB0b2FzdCB9KTtcbiAgICByZXR1cm4gdG9hc3QuaWQ7XG4gIH07XG5cbmNvbnN0IHRvYXN0ID0gKG1lc3NhZ2U6IE1lc3NhZ2UsIG9wdHM/OiBUb2FzdE9wdGlvbnMpID0+XG4gIGNyZWF0ZUhhbmRsZXIoJ2JsYW5rJykobWVzc2FnZSwgb3B0cyk7XG5cbnRvYXN0LmVycm9yID0gY3JlYXRlSGFuZGxlcignZXJyb3InKTtcbnRvYXN0LnN1Y2Nlc3MgPSBjcmVhdGVIYW5kbGVyKCdzdWNjZXNzJyk7XG50b2FzdC5sb2FkaW5nID0gY3JlYXRlSGFuZGxlcignbG9hZGluZycpO1xudG9hc3QuY3VzdG9tID0gY3JlYXRlSGFuZGxlcignY3VzdG9tJyk7XG5cbnRvYXN0LmRpc21pc3MgPSAodG9hc3RJZD86IHN0cmluZykgPT4ge1xuICBkaXNwYXRjaCh7XG4gICAgdHlwZTogQWN0aW9uVHlwZS5ESVNNSVNTX1RPQVNULFxuICAgIHRvYXN0SWQsXG4gIH0pO1xufTtcblxudG9hc3QucmVtb3ZlID0gKHRvYXN0SWQ/OiBzdHJpbmcpID0+XG4gIGRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5SRU1PVkVfVE9BU1QsIHRvYXN0SWQgfSk7XG5cbnRvYXN0LnByb21pc2UgPSA8VD4oXG4gIHByb21pc2U6IFByb21pc2U8VD4sXG4gIG1zZ3M6IHtcbiAgICBsb2FkaW5nOiBSZW5kZXJhYmxlO1xuICAgIHN1Y2Nlc3M6IFZhbHVlT3JGdW5jdGlvbjxSZW5kZXJhYmxlLCBUPjtcbiAgICBlcnJvcjogVmFsdWVPckZ1bmN0aW9uPFJlbmRlcmFibGUsIGFueT47XG4gIH0sXG4gIG9wdHM/OiBEZWZhdWx0VG9hc3RPcHRpb25zXG4pID0+IHtcbiAgY29uc3QgaWQgPSB0b2FzdC5sb2FkaW5nKG1zZ3MubG9hZGluZywgeyAuLi5vcHRzLCAuLi5vcHRzPy5sb2FkaW5nIH0pO1xuXG4gIHByb21pc2VcbiAgICAudGhlbigocCkgPT4ge1xuICAgICAgdG9hc3Quc3VjY2VzcyhyZXNvbHZlVmFsdWUobXNncy5zdWNjZXNzLCBwKSwge1xuICAgICAgICBpZCxcbiAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgLi4ub3B0cz8uc3VjY2VzcyxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHA7XG4gICAgfSlcbiAgICAuY2F0Y2goKGUpID0+IHtcbiAgICAgIHRvYXN0LmVycm9yKHJlc29sdmVWYWx1ZShtc2dzLmVycm9yLCBlKSwge1xuICAgICAgICBpZCxcbiAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgLi4ub3B0cz8uZXJyb3IsXG4gICAgICB9KTtcbiAgICB9KTtcblxuICByZXR1cm4gcHJvbWlzZTtcbn07XG5cbmV4cG9ydCB7IHRvYXN0IH07XG4iLCJpbXBvcnQgeyB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgZGlzcGF0Y2gsIEFjdGlvblR5cGUsIHVzZVN0b3JlIH0gZnJvbSAnLi9zdG9yZSc7XG5pbXBvcnQgeyB0b2FzdCB9IGZyb20gJy4vdG9hc3QnO1xuaW1wb3J0IHsgRGVmYXVsdFRvYXN0T3B0aW9ucywgVG9hc3QsIFRvYXN0UG9zaXRpb24gfSBmcm9tICcuL3R5cGVzJztcblxuY29uc3QgdXBkYXRlSGVpZ2h0ID0gKHRvYXN0SWQ6IHN0cmluZywgaGVpZ2h0OiBudW1iZXIpID0+IHtcbiAgZGlzcGF0Y2goe1xuICAgIHR5cGU6IEFjdGlvblR5cGUuVVBEQVRFX1RPQVNULFxuICAgIHRvYXN0OiB7IGlkOiB0b2FzdElkLCBoZWlnaHQgfSxcbiAgfSk7XG59O1xuY29uc3Qgc3RhcnRQYXVzZSA9ICgpID0+IHtcbiAgZGlzcGF0Y2goe1xuICAgIHR5cGU6IEFjdGlvblR5cGUuU1RBUlRfUEFVU0UsXG4gICAgdGltZTogRGF0ZS5ub3coKSxcbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgdXNlVG9hc3RlciA9ICh0b2FzdE9wdGlvbnM/OiBEZWZhdWx0VG9hc3RPcHRpb25zKSA9PiB7XG4gIGNvbnN0IHsgdG9hc3RzLCBwYXVzZWRBdCB9ID0gdXNlU3RvcmUodG9hc3RPcHRpb25zKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChwYXVzZWRBdCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgY29uc3QgdGltZW91dHMgPSB0b2FzdHMubWFwKCh0KSA9PiB7XG4gICAgICBpZiAodC5kdXJhdGlvbiA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBkdXJhdGlvbkxlZnQgPVxuICAgICAgICAodC5kdXJhdGlvbiB8fCAwKSArIHQucGF1c2VEdXJhdGlvbiAtIChub3cgLSB0LmNyZWF0ZWRBdCk7XG5cbiAgICAgIGlmIChkdXJhdGlvbkxlZnQgPCAwKSB7XG4gICAgICAgIGlmICh0LnZpc2libGUpIHtcbiAgICAgICAgICB0b2FzdC5kaXNtaXNzKHQuaWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzZXRUaW1lb3V0KCgpID0+IHRvYXN0LmRpc21pc3ModC5pZCksIGR1cmF0aW9uTGVmdCk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgdGltZW91dHMuZm9yRWFjaCgodGltZW91dCkgPT4gdGltZW91dCAmJiBjbGVhclRpbWVvdXQodGltZW91dCkpO1xuICAgIH07XG4gIH0sIFt0b2FzdHMsIHBhdXNlZEF0XSk7XG5cbiAgY29uc3QgZW5kUGF1c2UgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaWYgKHBhdXNlZEF0KSB7XG4gICAgICBkaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGUuRU5EX1BBVVNFLCB0aW1lOiBEYXRlLm5vdygpIH0pO1xuICAgIH1cbiAgfSwgW3BhdXNlZEF0XSk7XG5cbiAgY29uc3QgY2FsY3VsYXRlT2Zmc2V0ID0gdXNlQ2FsbGJhY2soXG4gICAgKFxuICAgICAgdG9hc3Q6IFRvYXN0LFxuICAgICAgb3B0cz86IHtcbiAgICAgICAgcmV2ZXJzZU9yZGVyPzogYm9vbGVhbjtcbiAgICAgICAgZ3V0dGVyPzogbnVtYmVyO1xuICAgICAgICBkZWZhdWx0UG9zaXRpb24/OiBUb2FzdFBvc2l0aW9uO1xuICAgICAgfVxuICAgICkgPT4ge1xuICAgICAgY29uc3QgeyByZXZlcnNlT3JkZXIgPSBmYWxzZSwgZ3V0dGVyID0gOCwgZGVmYXVsdFBvc2l0aW9uIH0gPSBvcHRzIHx8IHt9O1xuXG4gICAgICBjb25zdCByZWxldmFudFRvYXN0cyA9IHRvYXN0cy5maWx0ZXIoXG4gICAgICAgICh0KSA9PlxuICAgICAgICAgICh0LnBvc2l0aW9uIHx8IGRlZmF1bHRQb3NpdGlvbikgPT09XG4gICAgICAgICAgICAodG9hc3QucG9zaXRpb24gfHwgZGVmYXVsdFBvc2l0aW9uKSAmJiB0LmhlaWdodFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHRvYXN0SW5kZXggPSByZWxldmFudFRvYXN0cy5maW5kSW5kZXgoKHQpID0+IHQuaWQgPT09IHRvYXN0LmlkKTtcbiAgICAgIGNvbnN0IHRvYXN0c0JlZm9yZSA9IHJlbGV2YW50VG9hc3RzLmZpbHRlcihcbiAgICAgICAgKHRvYXN0LCBpKSA9PiBpIDwgdG9hc3RJbmRleCAmJiB0b2FzdC52aXNpYmxlXG4gICAgICApLmxlbmd0aDtcblxuICAgICAgY29uc3Qgb2Zmc2V0ID0gcmVsZXZhbnRUb2FzdHNcbiAgICAgICAgLmZpbHRlcigodCkgPT4gdC52aXNpYmxlKVxuICAgICAgICAuc2xpY2UoLi4uKHJldmVyc2VPcmRlciA/IFt0b2FzdHNCZWZvcmUgKyAxXSA6IFswLCB0b2FzdHNCZWZvcmVdKSlcbiAgICAgICAgLnJlZHVjZSgoYWNjLCB0KSA9PiBhY2MgKyAodC5oZWlnaHQgfHwgMCkgKyBndXR0ZXIsIDApO1xuXG4gICAgICByZXR1cm4gb2Zmc2V0O1xuICAgIH0sXG4gICAgW3RvYXN0c11cbiAgKTtcblxuICByZXR1cm4ge1xuICAgIHRvYXN0cyxcbiAgICBoYW5kbGVyczoge1xuICAgICAgdXBkYXRlSGVpZ2h0LFxuICAgICAgc3RhcnRQYXVzZSxcbiAgICAgIGVuZFBhdXNlLFxuICAgICAgY2FsY3VsYXRlT2Zmc2V0LFxuICAgIH0sXG4gIH07XG59O1xuIiwibGV0IGU9e2RhdGE6XCJcIn0sdD10PT5cIm9iamVjdFwiPT10eXBlb2Ygd2luZG93PygodD90LnF1ZXJ5U2VsZWN0b3IoXCIjX2dvb2JlclwiKTp3aW5kb3cuX2dvb2Jlcil8fE9iamVjdC5hc3NpZ24oKHR8fGRvY3VtZW50LmhlYWQpLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKSkse2lubmVySFRNTDpcIiBcIixpZDpcIl9nb29iZXJcIn0pKS5maXJzdENoaWxkOnR8fGUscj1lPT57bGV0IHI9dChlKSxsPXIuZGF0YTtyZXR1cm4gci5kYXRhPVwiXCIsbH0sbD0vKD86KFtcXHUwMDgwLVxcdUZGRkZcXHctJUBdKykgKjo/ICooW157O10rPyk7fChbXjt9e10qPykgKnspfCh9XFxzKikvZyxhPS9cXC9cXCpbXl0qP1xcKlxcL3wgICsvZyxuPS9cXG4rL2csbz0oZSx0KT0+e2xldCByPVwiXCIsbD1cIlwiLGE9XCJcIjtmb3IobGV0IG4gaW4gZSl7bGV0IGM9ZVtuXTtcIkBcIj09blswXT9cImlcIj09blsxXT9yPW4rXCIgXCIrYytcIjtcIjpsKz1cImZcIj09blsxXT9vKGMsbik6bitcIntcIitvKGMsXCJrXCI9PW5bMV0/XCJcIjp0KStcIn1cIjpcIm9iamVjdFwiPT10eXBlb2YgYz9sKz1vKGMsdD90LnJlcGxhY2UoLyhbXixdKSsvZyxlPT5uLnJlcGxhY2UoLyheOi4qKXwoW14sXSkrL2csdD0+LyYvLnRlc3QodCk/dC5yZXBsYWNlKC8mL2csZSk6ZT9lK1wiIFwiK3Q6dCkpOm4pOm51bGwhPWMmJihuPS9eLS0vLnRlc3Qobik/bjpuLnJlcGxhY2UoL1tBLVpdL2csXCItJCZcIikudG9Mb3dlckNhc2UoKSxhKz1vLnA/by5wKG4sYyk6bitcIjpcIitjK1wiO1wiKX1yZXR1cm4gcisodCYmYT90K1wie1wiK2ErXCJ9XCI6YSkrbH0sYz17fSxzPWU9PntpZihcIm9iamVjdFwiPT10eXBlb2YgZSl7bGV0IHQ9XCJcIjtmb3IobGV0IHIgaW4gZSl0Kz1yK3MoZVtyXSk7cmV0dXJuIHR9cmV0dXJuIGV9LGk9KGUsdCxyLGkscCk9PntsZXQgdT1zKGUpLGQ9Y1t1XXx8KGNbdV09KGU9PntsZXQgdD0wLHI9MTE7Zm9yKDt0PGUubGVuZ3RoOylyPTEwMSpyK2UuY2hhckNvZGVBdCh0KyspPj4+MDtyZXR1cm5cImdvXCIrcn0pKHUpKTtpZighY1tkXSl7bGV0IHQ9dSE9PWU/ZTooZT0+e2xldCB0LHIsbz1be31dO2Zvcig7dD1sLmV4ZWMoZS5yZXBsYWNlKGEsXCJcIikpOyl0WzRdP28uc2hpZnQoKTp0WzNdPyhyPXRbM10ucmVwbGFjZShuLFwiIFwiKS50cmltKCksby51bnNoaWZ0KG9bMF1bcl09b1swXVtyXXx8e30pKTpvWzBdW3RbMV1dPXRbMl0ucmVwbGFjZShuLFwiIFwiKS50cmltKCk7cmV0dXJuIG9bMF19KShlKTtjW2RdPW8ocD97W1wiQGtleWZyYW1lcyBcIitkXTp0fTp0LHI/XCJcIjpcIi5cIitkKX1sZXQgZj1yJiZjLmc/Yy5nOm51bGw7cmV0dXJuIHImJihjLmc9Y1tkXSksKChlLHQscixsKT0+e2w/dC5kYXRhPXQuZGF0YS5yZXBsYWNlKGwsZSk6LTE9PT10LmRhdGEuaW5kZXhPZihlKSYmKHQuZGF0YT1yP2UrdC5kYXRhOnQuZGF0YStlKX0pKGNbZF0sdCxpLGYpLGR9LHA9KGUsdCxyKT0+ZS5yZWR1Y2UoKGUsbCxhKT0+e2xldCBuPXRbYV07aWYobiYmbi5jYWxsKXtsZXQgZT1uKHIpLHQ9ZSYmZS5wcm9wcyYmZS5wcm9wcy5jbGFzc05hbWV8fC9eZ28vLnRlc3QoZSkmJmU7bj10P1wiLlwiK3Q6ZSYmXCJvYmplY3RcIj09dHlwZW9mIGU/ZS5wcm9wcz9cIlwiOm8oZSxcIlwiKTohMT09PWU/XCJcIjplfXJldHVybiBlK2wrKG51bGw9PW4/XCJcIjpuKX0sXCJcIik7ZnVuY3Rpb24gdShlKXtsZXQgcj10aGlzfHx7fSxsPWUuY2FsbD9lKHIucCk6ZTtyZXR1cm4gaShsLnVuc2hpZnQ/bC5yYXc/cChsLFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLHIucCk6bC5yZWR1Y2UoKGUsdCk9Pk9iamVjdC5hc3NpZ24oZSx0JiZ0LmNhbGw/dChyLnApOnQpLHt9KTpsLHQoci50YXJnZXQpLHIuZyxyLm8sci5rKX1sZXQgZCxmLGcsYj11LmJpbmQoe2c6MX0pLGg9dS5iaW5kKHtrOjF9KTtmdW5jdGlvbiBtKGUsdCxyLGwpe28ucD10LGQ9ZSxmPXIsZz1sfWZ1bmN0aW9uIGooZSx0KXtsZXQgcj10aGlzfHx7fTtyZXR1cm4gZnVuY3Rpb24oKXtsZXQgbD1hcmd1bWVudHM7ZnVuY3Rpb24gYShuLG8pe2xldCBjPU9iamVjdC5hc3NpZ24oe30sbikscz1jLmNsYXNzTmFtZXx8YS5jbGFzc05hbWU7ci5wPU9iamVjdC5hc3NpZ24oe3RoZW1lOmYmJmYoKX0sYyksci5vPS8gKmdvXFxkKy8udGVzdChzKSxjLmNsYXNzTmFtZT11LmFwcGx5KHIsbCkrKHM/XCIgXCIrczpcIlwiKSx0JiYoYy5yZWY9byk7bGV0IGk9ZTtyZXR1cm4gZVswXSYmKGk9Yy5hc3x8ZSxkZWxldGUgYy5hcyksZyYmaVswXSYmZyhjKSxkKGksYyl9cmV0dXJuIHQ/dChhKTphfX1leHBvcnR7dSBhcyBjc3MsciBhcyBleHRyYWN0Q3NzLGIgYXMgZ2xvYixoIGFzIGtleWZyYW1lcyxtIGFzIHNldHVwLGogYXMgc3R5bGVkfTtcbiIsImltcG9ydCB7IHN0eWxlZCwga2V5ZnJhbWVzIH0gZnJvbSAnZ29vYmVyJztcblxuY29uc3QgY2lyY2xlQW5pbWF0aW9uID0ga2V5ZnJhbWVzYFxuZnJvbSB7XG4gIHRyYW5zZm9ybTogc2NhbGUoMCkgcm90YXRlKDQ1ZGVnKTtcblx0b3BhY2l0eTogMDtcbn1cbnRvIHtcbiB0cmFuc2Zvcm06IHNjYWxlKDEpIHJvdGF0ZSg0NWRlZyk7XG4gIG9wYWNpdHk6IDE7XG59YDtcblxuY29uc3QgZmlyc3RMaW5lQW5pbWF0aW9uID0ga2V5ZnJhbWVzYFxuZnJvbSB7XG4gIHRyYW5zZm9ybTogc2NhbGUoMCk7XG4gIG9wYWNpdHk6IDA7XG59XG50byB7XG4gIHRyYW5zZm9ybTogc2NhbGUoMSk7XG4gIG9wYWNpdHk6IDE7XG59YDtcblxuY29uc3Qgc2Vjb25kTGluZUFuaW1hdGlvbiA9IGtleWZyYW1lc2BcbmZyb20ge1xuICB0cmFuc2Zvcm06IHNjYWxlKDApIHJvdGF0ZSg5MGRlZyk7XG5cdG9wYWNpdHk6IDA7XG59XG50byB7XG4gIHRyYW5zZm9ybTogc2NhbGUoMSkgcm90YXRlKDkwZGVnKTtcblx0b3BhY2l0eTogMTtcbn1gO1xuXG5leHBvcnQgaW50ZXJmYWNlIEVycm9yVGhlbWUge1xuICBwcmltYXJ5Pzogc3RyaW5nO1xuICBzZWNvbmRhcnk/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjb25zdCBFcnJvckljb24gPSBzdHlsZWQoJ2RpdicpPEVycm9yVGhlbWU+YFxuICB3aWR0aDogMjBweDtcbiAgb3BhY2l0eTogMDtcbiAgaGVpZ2h0OiAyMHB4O1xuICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICBiYWNrZ3JvdW5kOiAkeyhwKSA9PiBwLnByaW1hcnkgfHwgJyNmZjRiNGInfTtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB0cmFuc2Zvcm06IHJvdGF0ZSg0NWRlZyk7XG5cbiAgYW5pbWF0aW9uOiAke2NpcmNsZUFuaW1hdGlvbn0gMC4zcyBjdWJpYy1iZXppZXIoMC4xNzUsIDAuODg1LCAwLjMyLCAxLjI3NSlcbiAgICBmb3J3YXJkcztcbiAgYW5pbWF0aW9uLWRlbGF5OiAxMDBtcztcblxuICAmOmFmdGVyLFxuICAmOmJlZm9yZSB7XG4gICAgY29udGVudDogJyc7XG4gICAgYW5pbWF0aW9uOiAke2ZpcnN0TGluZUFuaW1hdGlvbn0gMC4xNXMgZWFzZS1vdXQgZm9yd2FyZHM7XG4gICAgYW5pbWF0aW9uLWRlbGF5OiAxNTBtcztcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgYm9yZGVyLXJhZGl1czogM3B4O1xuICAgIG9wYWNpdHk6IDA7XG4gICAgYmFja2dyb3VuZDogJHsocCkgPT4gcC5zZWNvbmRhcnkgfHwgJyNmZmYnfTtcbiAgICBib3R0b206IDlweDtcbiAgICBsZWZ0OiA0cHg7XG4gICAgaGVpZ2h0OiAycHg7XG4gICAgd2lkdGg6IDEycHg7XG4gIH1cblxuICAmOmJlZm9yZSB7XG4gICAgYW5pbWF0aW9uOiAke3NlY29uZExpbmVBbmltYXRpb259IDAuMTVzIGVhc2Utb3V0IGZvcndhcmRzO1xuICAgIGFuaW1hdGlvbi1kZWxheTogMTgwbXM7XG4gICAgdHJhbnNmb3JtOiByb3RhdGUoOTBkZWcpO1xuICB9XG5gO1xuIiwiaW1wb3J0IHsgc3R5bGVkLCBrZXlmcmFtZXMgfSBmcm9tICdnb29iZXInO1xuXG5jb25zdCByb3RhdGUgPSBrZXlmcmFtZXNgXG4gIGZyb20ge1xuICAgIHRyYW5zZm9ybTogcm90YXRlKDBkZWcpO1xuICB9XG4gIHRvIHtcbiAgICB0cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpO1xuICB9XG5gO1xuXG5leHBvcnQgaW50ZXJmYWNlIExvYWRlclRoZW1lIHtcbiAgcHJpbWFyeT86IHN0cmluZztcbiAgc2Vjb25kYXJ5Pzogc3RyaW5nO1xufVxuXG5leHBvcnQgY29uc3QgTG9hZGVySWNvbiA9IHN0eWxlZCgnZGl2Jyk8TG9hZGVyVGhlbWU+YFxuICB3aWR0aDogMTJweDtcbiAgaGVpZ2h0OiAxMnB4O1xuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICBib3JkZXI6IDJweCBzb2xpZDtcbiAgYm9yZGVyLXJhZGl1czogMTAwJTtcbiAgYm9yZGVyLWNvbG9yOiAkeyhwKSA9PiBwLnNlY29uZGFyeSB8fCAnI2UwZTBlMCd9O1xuICBib3JkZXItcmlnaHQtY29sb3I6ICR7KHApID0+IHAucHJpbWFyeSB8fCAnIzYxNjE2MSd9O1xuICBhbmltYXRpb246ICR7cm90YXRlfSAxcyBsaW5lYXIgaW5maW5pdGU7XG5gO1xuIiwiaW1wb3J0IHsgc3R5bGVkLCBrZXlmcmFtZXMgfSBmcm9tICdnb29iZXInO1xuXG5jb25zdCBjaXJjbGVBbmltYXRpb24gPSBrZXlmcmFtZXNgXG5mcm9tIHtcbiAgdHJhbnNmb3JtOiBzY2FsZSgwKSByb3RhdGUoNDVkZWcpO1xuXHRvcGFjaXR5OiAwO1xufVxudG8ge1xuICB0cmFuc2Zvcm06IHNjYWxlKDEpIHJvdGF0ZSg0NWRlZyk7XG5cdG9wYWNpdHk6IDE7XG59YDtcblxuY29uc3QgY2hlY2ttYXJrQW5pbWF0aW9uID0ga2V5ZnJhbWVzYFxuMCUge1xuXHRoZWlnaHQ6IDA7XG5cdHdpZHRoOiAwO1xuXHRvcGFjaXR5OiAwO1xufVxuNDAlIHtcbiAgaGVpZ2h0OiAwO1xuXHR3aWR0aDogNnB4O1xuXHRvcGFjaXR5OiAxO1xufVxuMTAwJSB7XG4gIG9wYWNpdHk6IDE7XG4gIGhlaWdodDogMTBweDtcbn1gO1xuXG5leHBvcnQgaW50ZXJmYWNlIENoZWNrbWFya1RoZW1lIHtcbiAgcHJpbWFyeT86IHN0cmluZztcbiAgc2Vjb25kYXJ5Pzogc3RyaW5nO1xufVxuXG5leHBvcnQgY29uc3QgQ2hlY2ttYXJrSWNvbiA9IHN0eWxlZCgnZGl2Jyk8Q2hlY2ttYXJrVGhlbWU+YFxuICB3aWR0aDogMjBweDtcbiAgb3BhY2l0eTogMDtcbiAgaGVpZ2h0OiAyMHB4O1xuICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICBiYWNrZ3JvdW5kOiAkeyhwKSA9PiBwLnByaW1hcnkgfHwgJyM2MWQzNDUnfTtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB0cmFuc2Zvcm06IHJvdGF0ZSg0NWRlZyk7XG5cbiAgYW5pbWF0aW9uOiAke2NpcmNsZUFuaW1hdGlvbn0gMC4zcyBjdWJpYy1iZXppZXIoMC4xNzUsIDAuODg1LCAwLjMyLCAxLjI3NSlcbiAgICBmb3J3YXJkcztcbiAgYW5pbWF0aW9uLWRlbGF5OiAxMDBtcztcbiAgJjphZnRlciB7XG4gICAgY29udGVudDogJyc7XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICBhbmltYXRpb246ICR7Y2hlY2ttYXJrQW5pbWF0aW9ufSAwLjJzIGVhc2Utb3V0IGZvcndhcmRzO1xuICAgIG9wYWNpdHk6IDA7XG4gICAgYW5pbWF0aW9uLWRlbGF5OiAyMDBtcztcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgYm9yZGVyLXJpZ2h0OiAycHggc29saWQ7XG4gICAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkO1xuICAgIGJvcmRlci1jb2xvcjogJHsocCkgPT4gcC5zZWNvbmRhcnkgfHwgJyNmZmYnfTtcbiAgICBib3R0b206IDZweDtcbiAgICBsZWZ0OiA2cHg7XG4gICAgaGVpZ2h0OiAxMHB4O1xuICAgIHdpZHRoOiA2cHg7XG4gIH1cbmA7XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBzdHlsZWQsIGtleWZyYW1lcyB9IGZyb20gJ2dvb2Jlcic7XG5cbmltcG9ydCB7IFRvYXN0IH0gZnJvbSAnLi4vY29yZS90eXBlcyc7XG5pbXBvcnQgeyBFcnJvckljb24sIEVycm9yVGhlbWUgfSBmcm9tICcuL2Vycm9yJztcbmltcG9ydCB7IExvYWRlckljb24sIExvYWRlclRoZW1lIH0gZnJvbSAnLi9sb2FkZXInO1xuaW1wb3J0IHsgQ2hlY2ttYXJrSWNvbiwgQ2hlY2ttYXJrVGhlbWUgfSBmcm9tICcuL2NoZWNrbWFyayc7XG5cbmNvbnN0IFN0YXR1c1dyYXBwZXIgPSBzdHlsZWQoJ2RpdicpYFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XG5gO1xuXG5jb25zdCBJbmRpY2F0b3JXcmFwcGVyID0gc3R5bGVkKCdkaXYnKWBcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgbWluLXdpZHRoOiAyMHB4O1xuICBtaW4taGVpZ2h0OiAyMHB4O1xuYDtcblxuY29uc3QgZW50ZXIgPSBrZXlmcmFtZXNgXG5mcm9tIHtcbiAgdHJhbnNmb3JtOiBzY2FsZSgwLjYpO1xuICBvcGFjaXR5OiAwLjQ7XG59XG50byB7XG4gIHRyYW5zZm9ybTogc2NhbGUoMSk7XG4gIG9wYWNpdHk6IDE7XG59YDtcblxuZXhwb3J0IGNvbnN0IEFuaW1hdGVkSWNvbldyYXBwZXIgPSBzdHlsZWQoJ2RpdicpYFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHRyYW5zZm9ybTogc2NhbGUoMC42KTtcbiAgb3BhY2l0eTogMC40O1xuICBtaW4td2lkdGg6IDIwcHg7XG4gIGFuaW1hdGlvbjogJHtlbnRlcn0gMC4zcyAwLjEycyBjdWJpYy1iZXppZXIoMC4xNzUsIDAuODg1LCAwLjMyLCAxLjI3NSlcbiAgICBmb3J3YXJkcztcbmA7XG5cbmV4cG9ydCB0eXBlIEljb25UaGVtZXMgPSBQYXJ0aWFsPHtcbiAgc3VjY2VzczogQ2hlY2ttYXJrVGhlbWU7XG4gIGVycm9yOiBFcnJvclRoZW1lO1xuICBsb2FkaW5nOiBMb2FkZXJUaGVtZTtcbn0+O1xuXG5leHBvcnQgY29uc3QgVG9hc3RJY29uOiBSZWFjdC5GQzx7XG4gIHRvYXN0OiBUb2FzdDtcbn0+ID0gKHsgdG9hc3QgfSkgPT4ge1xuICBjb25zdCB7IGljb24sIHR5cGUsIGljb25UaGVtZSB9ID0gdG9hc3Q7XG4gIGlmIChpY29uICE9PSB1bmRlZmluZWQpIHtcbiAgICBpZiAodHlwZW9mIGljb24gPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gPEFuaW1hdGVkSWNvbldyYXBwZXI+e2ljb259PC9BbmltYXRlZEljb25XcmFwcGVyPjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGljb247XG4gICAgfVxuICB9XG5cbiAgaWYgKHR5cGUgPT09ICdibGFuaycpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPEluZGljYXRvcldyYXBwZXI+XG4gICAgICA8TG9hZGVySWNvbiB7Li4uaWNvblRoZW1lfSAvPlxuICAgICAge3R5cGUgIT09ICdsb2FkaW5nJyAmJiAoXG4gICAgICAgIDxTdGF0dXNXcmFwcGVyPlxuICAgICAgICAgIHt0eXBlID09PSAnZXJyb3InID8gKFxuICAgICAgICAgICAgPEVycm9ySWNvbiB7Li4uaWNvblRoZW1lfSAvPlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8Q2hlY2ttYXJrSWNvbiB7Li4uaWNvblRoZW1lfSAvPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvU3RhdHVzV3JhcHBlcj5cbiAgICAgICl9XG4gICAgPC9JbmRpY2F0b3JXcmFwcGVyPlxuICApO1xufTtcbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHN0eWxlZCwga2V5ZnJhbWVzIH0gZnJvbSAnZ29vYmVyJztcblxuaW1wb3J0IHsgVG9hc3QsIFRvYXN0UG9zaXRpb24sIHJlc29sdmVWYWx1ZSwgUmVuZGVyYWJsZSB9IGZyb20gJy4uL2NvcmUvdHlwZXMnO1xuaW1wb3J0IHsgVG9hc3RJY29uIH0gZnJvbSAnLi90b2FzdC1pY29uJztcbmltcG9ydCB7IHByZWZlcnNSZWR1Y2VkTW90aW9uIH0gZnJvbSAnLi4vY29yZS91dGlscyc7XG5cbmNvbnN0IGVudGVyQW5pbWF0aW9uID0gKGZhY3RvcjogbnVtYmVyKSA9PiBgXG4wJSB7dHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCR7ZmFjdG9yICogLTIwMH0lLDApIHNjYWxlKC42KTsgb3BhY2l0eTouNTt9XG4xMDAlIHt0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsMCwwKSBzY2FsZSgxKTsgb3BhY2l0eToxO31cbmA7XG5cbmNvbnN0IGV4aXRBbmltYXRpb24gPSAoZmFjdG9yOiBudW1iZXIpID0+IGBcbjAlIHt0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsMCwtMXB4KSBzY2FsZSgxKTsgb3BhY2l0eToxO31cbjEwMCUge3RyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwke2ZhY3RvciAqIC0xNTB9JSwtMXB4KSBzY2FsZSguNik7IG9wYWNpdHk6MDt9XG5gO1xuXG5jb25zdCBmYWRlSW5BbmltYXRpb24gPSBgMCV7b3BhY2l0eTowO30gMTAwJXtvcGFjaXR5OjE7fWA7XG5jb25zdCBmYWRlT3V0QW5pbWF0aW9uID0gYDAle29wYWNpdHk6MTt9IDEwMCV7b3BhY2l0eTowO31gO1xuXG5jb25zdCBUb2FzdEJhckJhc2UgPSBzdHlsZWQoJ2RpdicpYFxuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBiYWNrZ3JvdW5kOiAjZmZmO1xuICBjb2xvcjogIzM2MzYzNjtcbiAgbGluZS1oZWlnaHQ6IDEuMztcbiAgd2lsbC1jaGFuZ2U6IHRyYW5zZm9ybTtcbiAgYm94LXNoYWRvdzogMCAzcHggMTBweCByZ2JhKDAsIDAsIDAsIDAuMSksIDAgM3B4IDNweCByZ2JhKDAsIDAsIDAsIDAuMDUpO1xuICBtYXgtd2lkdGg6IDM1MHB4O1xuICBwb2ludGVyLWV2ZW50czogYXV0bztcbiAgcGFkZGluZzogOHB4IDEwcHg7XG4gIGJvcmRlci1yYWRpdXM6IDhweDtcbmA7XG5cbmNvbnN0IE1lc3NhZ2UgPSBzdHlsZWQoJ2RpdicpYFxuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgbWFyZ2luOiA0cHggMTBweDtcbiAgY29sb3I6IGluaGVyaXQ7XG4gIGZsZXg6IDEgMSBhdXRvO1xuICB3aGl0ZS1zcGFjZTogcHJlLWxpbmU7XG5gO1xuXG5pbnRlcmZhY2UgVG9hc3RCYXJQcm9wcyB7XG4gIHRvYXN0OiBUb2FzdDtcbiAgcG9zaXRpb24/OiBUb2FzdFBvc2l0aW9uO1xuICBzdHlsZT86IFJlYWN0LkNTU1Byb3BlcnRpZXM7XG4gIGNoaWxkcmVuPzogKGNvbXBvbmVudHM6IHtcbiAgICBpY29uOiBSZW5kZXJhYmxlO1xuICAgIG1lc3NhZ2U6IFJlbmRlcmFibGU7XG4gIH0pID0+IFJlbmRlcmFibGU7XG59XG5cbmNvbnN0IGdldEFuaW1hdGlvblN0eWxlID0gKFxuICBwb3NpdGlvbjogVG9hc3RQb3NpdGlvbixcbiAgdmlzaWJsZTogYm9vbGVhblxuKTogUmVhY3QuQ1NTUHJvcGVydGllcyA9PiB7XG4gIGNvbnN0IHRvcCA9IHBvc2l0aW9uLmluY2x1ZGVzKCd0b3AnKTtcbiAgY29uc3QgZmFjdG9yID0gdG9wID8gMSA6IC0xO1xuXG4gIGNvbnN0IFtlbnRlciwgZXhpdF0gPSBwcmVmZXJzUmVkdWNlZE1vdGlvbigpXG4gICAgPyBbZmFkZUluQW5pbWF0aW9uLCBmYWRlT3V0QW5pbWF0aW9uXVxuICAgIDogW2VudGVyQW5pbWF0aW9uKGZhY3RvciksIGV4aXRBbmltYXRpb24oZmFjdG9yKV07XG5cbiAgcmV0dXJuIHtcbiAgICBhbmltYXRpb246IHZpc2libGVcbiAgICAgID8gYCR7a2V5ZnJhbWVzKGVudGVyKX0gMC4zNXMgY3ViaWMtYmV6aWVyKC4yMSwxLjAyLC43MywxKSBmb3J3YXJkc2BcbiAgICAgIDogYCR7a2V5ZnJhbWVzKGV4aXQpfSAwLjRzIGZvcndhcmRzIGN1YmljLWJlemllciguMDYsLjcxLC41NSwxKWAsXG4gIH07XG59O1xuXG5leHBvcnQgY29uc3QgVG9hc3RCYXI6IFJlYWN0LkZDPFRvYXN0QmFyUHJvcHM+ID0gUmVhY3QubWVtbyhcbiAgKHsgdG9hc3QsIHBvc2l0aW9uLCBzdHlsZSwgY2hpbGRyZW4gfSkgPT4ge1xuICAgIGNvbnN0IGFuaW1hdGlvblN0eWxlOiBSZWFjdC5DU1NQcm9wZXJ0aWVzID0gdG9hc3QuaGVpZ2h0XG4gICAgICA/IGdldEFuaW1hdGlvblN0eWxlKFxuICAgICAgICAgIHRvYXN0LnBvc2l0aW9uIHx8IHBvc2l0aW9uIHx8ICd0b3AtY2VudGVyJyxcbiAgICAgICAgICB0b2FzdC52aXNpYmxlXG4gICAgICAgIClcbiAgICAgIDogeyBvcGFjaXR5OiAwIH07XG5cbiAgICBjb25zdCBpY29uID0gPFRvYXN0SWNvbiB0b2FzdD17dG9hc3R9IC8+O1xuICAgIGNvbnN0IG1lc3NhZ2UgPSAoXG4gICAgICA8TWVzc2FnZSB7Li4udG9hc3QuYXJpYVByb3BzfT5cbiAgICAgICAge3Jlc29sdmVWYWx1ZSh0b2FzdC5tZXNzYWdlLCB0b2FzdCl9XG4gICAgICA8L01lc3NhZ2U+XG4gICAgKTtcblxuICAgIHJldHVybiAoXG4gICAgICA8VG9hc3RCYXJCYXNlXG4gICAgICAgIGNsYXNzTmFtZT17dG9hc3QuY2xhc3NOYW1lfVxuICAgICAgICBzdHlsZT17e1xuICAgICAgICAgIC4uLmFuaW1hdGlvblN0eWxlLFxuICAgICAgICAgIC4uLnN0eWxlLFxuICAgICAgICAgIC4uLnRvYXN0LnN0eWxlLFxuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICB7dHlwZW9mIGNoaWxkcmVuID09PSAnZnVuY3Rpb24nID8gKFxuICAgICAgICAgIGNoaWxkcmVuKHtcbiAgICAgICAgICAgIGljb24sXG4gICAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgIH0pXG4gICAgICAgICkgOiAoXG4gICAgICAgICAgPD5cbiAgICAgICAgICAgIHtpY29ufVxuICAgICAgICAgICAge21lc3NhZ2V9XG4gICAgICAgICAgPC8+XG4gICAgICAgICl9XG4gICAgICA8L1RvYXN0QmFyQmFzZT5cbiAgICApO1xuICB9XG4pO1xuIiwiaW1wb3J0IHsgY3NzLCBzZXR1cCB9IGZyb20gJ2dvb2Jlcic7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQge1xuICByZXNvbHZlVmFsdWUsXG4gIFRvYXN0ZXJQcm9wcyxcbiAgVG9hc3RQb3NpdGlvbixcbiAgVG9hc3RXcmFwcGVyUHJvcHMsXG59IGZyb20gJy4uL2NvcmUvdHlwZXMnO1xuaW1wb3J0IHsgdXNlVG9hc3RlciB9IGZyb20gJy4uL2NvcmUvdXNlLXRvYXN0ZXInO1xuaW1wb3J0IHsgcHJlZmVyc1JlZHVjZWRNb3Rpb24gfSBmcm9tICcuLi9jb3JlL3V0aWxzJztcbmltcG9ydCB7IFRvYXN0QmFyIH0gZnJvbSAnLi90b2FzdC1iYXInO1xuXG5zZXR1cChSZWFjdC5jcmVhdGVFbGVtZW50KTtcblxuY29uc3QgVG9hc3RXcmFwcGVyID0gKHtcbiAgaWQsXG4gIGNsYXNzTmFtZSxcbiAgc3R5bGUsXG4gIG9uSGVpZ2h0VXBkYXRlLFxuICBjaGlsZHJlbixcbn06IFRvYXN0V3JhcHBlclByb3BzKSA9PiB7XG4gIGNvbnN0IHJlZiA9IFJlYWN0LnVzZUNhbGxiYWNrKFxuICAgIChlbDogSFRNTEVsZW1lbnQgfCBudWxsKSA9PiB7XG4gICAgICBpZiAoZWwpIHtcbiAgICAgICAgY29uc3QgdXBkYXRlSGVpZ2h0ID0gKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IGhlaWdodCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcbiAgICAgICAgICBvbkhlaWdodFVwZGF0ZShpZCwgaGVpZ2h0KTtcbiAgICAgICAgfTtcbiAgICAgICAgdXBkYXRlSGVpZ2h0KCk7XG4gICAgICAgIG5ldyBNdXRhdGlvbk9ic2VydmVyKHVwZGF0ZUhlaWdodCkub2JzZXJ2ZShlbCwge1xuICAgICAgICAgIHN1YnRyZWU6IHRydWUsXG4gICAgICAgICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgICAgICAgIGNoYXJhY3RlckRhdGE6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgW2lkLCBvbkhlaWdodFVwZGF0ZV1cbiAgKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgcmVmPXtyZWZ9IGNsYXNzTmFtZT17Y2xhc3NOYW1lfSBzdHlsZT17c3R5bGV9PlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvZGl2PlxuICApO1xufTtcblxuY29uc3QgZ2V0UG9zaXRpb25TdHlsZSA9IChcbiAgcG9zaXRpb246IFRvYXN0UG9zaXRpb24sXG4gIG9mZnNldDogbnVtYmVyXG4pOiBSZWFjdC5DU1NQcm9wZXJ0aWVzID0+IHtcbiAgY29uc3QgdG9wID0gcG9zaXRpb24uaW5jbHVkZXMoJ3RvcCcpO1xuICBjb25zdCB2ZXJ0aWNhbFN0eWxlOiBSZWFjdC5DU1NQcm9wZXJ0aWVzID0gdG9wID8geyB0b3A6IDAgfSA6IHsgYm90dG9tOiAwIH07XG4gIGNvbnN0IGhvcml6b250YWxTdHlsZTogUmVhY3QuQ1NTUHJvcGVydGllcyA9IHBvc2l0aW9uLmluY2x1ZGVzKCdjZW50ZXInKVxuICAgID8ge1xuICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICB9XG4gICAgOiBwb3NpdGlvbi5pbmNsdWRlcygncmlnaHQnKVxuICAgID8ge1xuICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2ZsZXgtZW5kJyxcbiAgICAgIH1cbiAgICA6IHt9O1xuICByZXR1cm4ge1xuICAgIGxlZnQ6IDAsXG4gICAgcmlnaHQ6IDAsXG4gICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgIHRyYW5zaXRpb246IHByZWZlcnNSZWR1Y2VkTW90aW9uKClcbiAgICAgID8gdW5kZWZpbmVkXG4gICAgICA6IGBhbGwgMjMwbXMgY3ViaWMtYmV6aWVyKC4yMSwxLjAyLC43MywxKWAsXG4gICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlWSgke29mZnNldCAqICh0b3AgPyAxIDogLTEpfXB4KWAsXG4gICAgLi4udmVydGljYWxTdHlsZSxcbiAgICAuLi5ob3Jpem9udGFsU3R5bGUsXG4gIH07XG59O1xuXG5jb25zdCBhY3RpdmVDbGFzcyA9IGNzc2BcbiAgei1pbmRleDogOTk5OTtcbiAgPiAqIHtcbiAgICBwb2ludGVyLWV2ZW50czogYXV0bztcbiAgfVxuYDtcblxuY29uc3QgREVGQVVMVF9PRkZTRVQgPSAxNjtcblxuZXhwb3J0IGNvbnN0IFRvYXN0ZXI6IFJlYWN0LkZDPFRvYXN0ZXJQcm9wcz4gPSAoe1xuICByZXZlcnNlT3JkZXIsXG4gIHBvc2l0aW9uID0gJ3RvcC1jZW50ZXInLFxuICB0b2FzdE9wdGlvbnMsXG4gIGd1dHRlcixcbiAgY2hpbGRyZW4sXG4gIGNvbnRhaW5lclN0eWxlLFxuICBjb250YWluZXJDbGFzc05hbWUsXG59KSA9PiB7XG4gIGNvbnN0IHsgdG9hc3RzLCBoYW5kbGVycyB9ID0gdXNlVG9hc3Rlcih0b2FzdE9wdGlvbnMpO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgc3R5bGU9e3tcbiAgICAgICAgcG9zaXRpb246ICdmaXhlZCcsXG4gICAgICAgIHpJbmRleDogOTk5OSxcbiAgICAgICAgdG9wOiBERUZBVUxUX09GRlNFVCxcbiAgICAgICAgbGVmdDogREVGQVVMVF9PRkZTRVQsXG4gICAgICAgIHJpZ2h0OiBERUZBVUxUX09GRlNFVCxcbiAgICAgICAgYm90dG9tOiBERUZBVUxUX09GRlNFVCxcbiAgICAgICAgcG9pbnRlckV2ZW50czogJ25vbmUnLFxuICAgICAgICAuLi5jb250YWluZXJTdHlsZSxcbiAgICAgIH19XG4gICAgICBjbGFzc05hbWU9e2NvbnRhaW5lckNsYXNzTmFtZX1cbiAgICAgIG9uTW91c2VFbnRlcj17aGFuZGxlcnMuc3RhcnRQYXVzZX1cbiAgICAgIG9uTW91c2VMZWF2ZT17aGFuZGxlcnMuZW5kUGF1c2V9XG4gICAgPlxuICAgICAge3RvYXN0cy5tYXAoKHQpID0+IHtcbiAgICAgICAgY29uc3QgdG9hc3RQb3NpdGlvbiA9IHQucG9zaXRpb24gfHwgcG9zaXRpb247XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IGhhbmRsZXJzLmNhbGN1bGF0ZU9mZnNldCh0LCB7XG4gICAgICAgICAgcmV2ZXJzZU9yZGVyLFxuICAgICAgICAgIGd1dHRlcixcbiAgICAgICAgICBkZWZhdWx0UG9zaXRpb246IHBvc2l0aW9uLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcG9zaXRpb25TdHlsZSA9IGdldFBvc2l0aW9uU3R5bGUodG9hc3RQb3NpdGlvbiwgb2Zmc2V0KTtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxUb2FzdFdyYXBwZXJcbiAgICAgICAgICAgIGlkPXt0LmlkfVxuICAgICAgICAgICAga2V5PXt0LmlkfVxuICAgICAgICAgICAgb25IZWlnaHRVcGRhdGU9e2hhbmRsZXJzLnVwZGF0ZUhlaWdodH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17dC52aXNpYmxlID8gYWN0aXZlQ2xhc3MgOiAnJ31cbiAgICAgICAgICAgIHN0eWxlPXtwb3NpdGlvblN0eWxlfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHt0LnR5cGUgPT09ICdjdXN0b20nID8gKFxuICAgICAgICAgICAgICByZXNvbHZlVmFsdWUodC5tZXNzYWdlLCB0KVxuICAgICAgICAgICAgKSA6IGNoaWxkcmVuID8gKFxuICAgICAgICAgICAgICBjaGlsZHJlbih0KVxuICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgPFRvYXN0QmFyIHRvYXN0PXt0fSBwb3NpdGlvbj17dG9hc3RQb3NpdGlvbn0gLz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9Ub2FzdFdyYXBwZXI+XG4gICAgICAgICk7XG4gICAgICB9KX1cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG4iLCJpbXBvcnQgeyB0b2FzdCB9IGZyb20gJy4vY29yZS90b2FzdCc7XG5cbmV4cG9ydCAqIGZyb20gJy4vaGVhZGxlc3MnO1xuXG5leHBvcnQgeyBUb2FzdEJhciB9IGZyb20gJy4vY29tcG9uZW50cy90b2FzdC1iYXInO1xuZXhwb3J0IHsgVG9hc3RJY29uIH0gZnJvbSAnLi9jb21wb25lbnRzL3RvYXN0LWljb24nO1xuZXhwb3J0IHsgVG9hc3RlciB9IGZyb20gJy4vY29tcG9uZW50cy90b2FzdGVyJztcbmV4cG9ydCB7IENoZWNrbWFya0ljb24gfSBmcm9tICcuL2NvbXBvbmVudHMvY2hlY2ttYXJrJztcbmV4cG9ydCB7IEVycm9ySWNvbiB9IGZyb20gJy4vY29tcG9uZW50cy9lcnJvcic7XG5leHBvcnQgeyBMb2FkZXJJY29uIH0gZnJvbSAnLi9jb21wb25lbnRzL2xvYWRlcic7XG5cbmV4cG9ydCB7IHRvYXN0IH07XG5leHBvcnQgZGVmYXVsdCB0b2FzdDtcbiJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJyZXF1aXJlIiwiZGVmaW5lIiwiYW1kIiwic2VsZiIsIl9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzE1Nl9fIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImQiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsImNvdW50Iiwic2hvdWxkUmVkdWNlTW90aW9uIiwiQWN0aW9uVHlwZSIsInJlc29sdmVWYWx1ZSIsInZhbE9yRnVuY3Rpb24iLCJhcmciLCJpc0Z1bmN0aW9uIiwiZ2VuSWQiLCJ0b1N0cmluZyIsInByZWZlcnNSZWR1Y2VkTW90aW9uIiwid2luZG93IiwibWVkaWFRdWVyeSIsIm1hdGNoTWVkaWEiLCJtYXRjaGVzIiwidG9hc3RUaW1lb3V0cyIsIk1hcCIsImFkZFRvUmVtb3ZlUXVldWUiLCJ0b2FzdElkIiwiaGFzIiwidGltZW91dCIsInNldFRpbWVvdXQiLCJkZWxldGUiLCJkaXNwYXRjaCIsInR5cGUiLCJSRU1PVkVfVE9BU1QiLCJzZXQiLCJyZWR1Y2VyIiwic3RhdGUiLCJhY3Rpb24iLCJBRERfVE9BU1QiLCJ0b2FzdHMiLCJ0b2FzdCIsInNsaWNlIiwiVVBEQVRFX1RPQVNUIiwiaWQiLCJjbGVhclRpbWVvdXQiLCJtYXAiLCJ0IiwiVVBTRVJUX1RPQVNUIiwiZmluZCIsIkRJU01JU1NfVE9BU1QiLCJmb3JFYWNoIiwidmlzaWJsZSIsImZpbHRlciIsIlNUQVJUX1BBVVNFIiwicGF1c2VkQXQiLCJ0aW1lIiwiRU5EX1BBVVNFIiwicGF1c2VEdXJhdGlvbiIsImxpc3RlbmVycyIsIm1lbW9yeVN0YXRlIiwibGlzdGVuZXIiLCJkZWZhdWx0VGltZW91dHMiLCJibGFuayIsImVycm9yIiwic3VjY2VzcyIsImxvYWRpbmciLCJJbmZpbml0eSIsImN1c3RvbSIsInVzZVN0b3JlIiwidG9hc3RPcHRpb25zIiwic2V0U3RhdGUiLCJwdXNoIiwiaW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwibWVyZ2VkVG9hc3RzIiwiZHVyYXRpb24iLCJzdHlsZSIsImNyZWF0ZUhhbmRsZXIiLCJtZXNzYWdlIiwib3B0aW9ucyIsIm9wdHMiLCJjcmVhdGVkQXQiLCJEYXRlIiwibm93IiwiYXJpYVByb3BzIiwicm9sZSIsImNyZWF0ZVRvYXN0IiwiZGlzbWlzcyIsInJlbW92ZSIsInByb21pc2UiLCJtc2dzIiwidGhlbiIsInAiLCJjYXRjaCIsImUiLCJ1cGRhdGVIZWlnaHQiLCJoZWlnaHQiLCJzdGFydFBhdXNlIiwidXNlVG9hc3RlciIsInVzZUVmZmVjdCIsInRpbWVvdXRzIiwiZHVyYXRpb25MZWZ0IiwiZW5kUGF1c2UiLCJ1c2VDYWxsYmFjayIsImNhbGN1bGF0ZU9mZnNldCIsInJldmVyc2VPcmRlciIsImd1dHRlciIsImRlZmF1bHRQb3NpdGlvbiIsInJlbGV2YW50VG9hc3RzIiwicG9zaXRpb24iLCJ0b2FzdEluZGV4IiwiZmluZEluZGV4IiwidG9hc3RzQmVmb3JlIiwiaSIsImxlbmd0aCIsIm9mZnNldCIsInJlZHVjZSIsImFjYyIsImhhbmRsZXJzIiwiZGF0YSIsInF1ZXJ5U2VsZWN0b3IiLCJfZ29vYmVyIiwiYXNzaWduIiwiZG9jdW1lbnQiLCJoZWFkIiwiYXBwZW5kQ2hpbGQiLCJjcmVhdGVFbGVtZW50IiwiaW5uZXJIVE1MIiwiZmlyc3RDaGlsZCIsImwiLCJhIiwibiIsImMiLCJyZXBsYWNlIiwidGVzdCIsInRvTG93ZXJDYXNlIiwicyIsInUiLCJjaGFyQ29kZUF0IiwiZXhlYyIsInNoaWZ0IiwidHJpbSIsInVuc2hpZnQiLCJmIiwiZyIsInByb3BzIiwiY2xhc3NOYW1lIiwidGhpcyIsInJhdyIsImFyZ3VtZW50cyIsInRhcmdldCIsImsiLCJiaW5kIiwiaCIsImoiLCJ0aGVtZSIsImFwcGx5IiwicmVmIiwiYXMiLCJjaXJjbGVBbmltYXRpb24iLCJmaXJzdExpbmVBbmltYXRpb24iLCJzZWNvbmRMaW5lQW5pbWF0aW9uIiwiRXJyb3JJY29uIiwicHJpbWFyeSIsInNlY29uZGFyeSIsInJvdGF0ZSIsIkxvYWRlckljb24iLCJjaGVja21hcmtBbmltYXRpb24iLCJDaGVja21hcmtJY29uIiwiU3RhdHVzV3JhcHBlciIsIkluZGljYXRvcldyYXBwZXIiLCJlbnRlciIsIkFuaW1hdGVkSWNvbldyYXBwZXIiLCJUb2FzdEljb24iLCJpY29uIiwiaWNvblRoZW1lIiwiZW50ZXJBbmltYXRpb24iLCJmYWN0b3IiLCJleGl0QW5pbWF0aW9uIiwiVG9hc3RCYXJCYXNlIiwiTWVzc2FnZSIsIlRvYXN0QmFyIiwiY2hpbGRyZW4iLCJhbmltYXRpb25TdHlsZSIsImluY2x1ZGVzIiwiZXhpdCIsImFuaW1hdGlvbiIsImdldEFuaW1hdGlvblN0eWxlIiwib3BhY2l0eSIsIlRvYXN0V3JhcHBlciIsIm9uSGVpZ2h0VXBkYXRlIiwiZWwiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJNdXRhdGlvbk9ic2VydmVyIiwib2JzZXJ2ZSIsInN1YnRyZWUiLCJjaGlsZExpc3QiLCJjaGFyYWN0ZXJEYXRhIiwiYWN0aXZlQ2xhc3MiLCJUb2FzdGVyIiwiY29udGFpbmVyU3R5bGUiLCJjb250YWluZXJDbGFzc05hbWUiLCJ6SW5kZXgiLCJ0b3AiLCJsZWZ0IiwicmlnaHQiLCJib3R0b20iLCJwb2ludGVyRXZlbnRzIiwib25Nb3VzZUVudGVyIiwib25Nb3VzZUxlYXZlIiwidG9hc3RQb3NpdGlvbiIsInBvc2l0aW9uU3R5bGUiLCJ2ZXJ0aWNhbFN0eWxlIiwiaG9yaXpvbnRhbFN0eWxlIiwianVzdGlmeUNvbnRlbnQiLCJkaXNwbGF5IiwidHJhbnNpdGlvbiIsInRyYW5zZm9ybSIsImdldFBvc2l0aW9uU3R5bGUiXSwic291cmNlUm9vdCI6IiJ9